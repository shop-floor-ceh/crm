{% extends 'extends/index.html' %}
{% block title %} Profile {% endblock %}
{% block content %}
{% load static %}
<div>
    <h2>Настройки</h2>
</div>
<div class="d-flex flex-wrap">
    <form method="POST" name="user-info" class="p-2" enctype="multipart/form-data">
        {% csrf_token %}
        <h5>Основная информация</h5>
        <div class="input-group mb-3">
            <input value="{{ user.username }}" type="text" class="form-control"
                   name="username" placeholder="Username"
                   autocomplete="username" required>
        </div>
        <div class="input-group mb-3">
            <input value="{{ user.first_name }}" type="text" class="form-control"
                   name="first_name" placeholder="Имя"
                   autocomplete="first_name" required>
        </div>
        <div class="input-group mb-3">
            <input value="{{ user.last_name }}" type="text" class="form-control"
                   name="last_name" placeholder="Фамилия"
                   autocomplete="last_name" required>
        </div>
        <div class="input-group">
            <textarea name="about_me" class="form-control"
                      placeholder="О себе">{{ user.about_me }}</textarea>
        </div>
        <p></p>
        <div class="input-group mb-3">
            <input value="{{ user.phone }}" type="text" class="form-control" name="phone"
                   placeholder="Телефон"
                   autocomplete="phone">
        </div>
        <div class="input-group mb-3">
            <label class="input-group-text" for="photo">Обновить аватарку</label>
            <input type="file" class="form-control" id="photo" placeholder="Аватарка" name="photo" accept="image/*">
        </div>
        <input class="btn btn-outline-primary" type="submit" name="update_user">
    </form>
    <div class="p-2">
        <form method="post" name="social-network" class="p-2">
            {% csrf_token %}
            <h5>Социальные сети</h5>
            <div class="input-group mb-3">
                <input type="text" class="form-control" name="network_name"
                       placeholder="Название соц сети" maxlength=60 required>
            </div>
            <div class="input-group mb-3">
                <input type="url" class="form-control" name="link" placeholder="Ссылка на профиль" required>
            </div>
            <input class="btn btn-outline-primary" type="submit" name="networks">
        </form>
        {% for network in networks %}
        <p>{{ network }}</p>
        {% endfor %}
    </div>

    <form method="POST" name="notification" class="p-2">
        {% csrf_token %}
        <h5>Уведомления</h5>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="Telegram" name="telegram"
                   {% if notification.telegram %} checked {% endif %}>
            <label class="form-check-label" for="Telegram">
                Телеграм
            </label>
            <div id="telegram-event"></div>
            <script src="{% static 'toggle_event.js' %}"></script>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="Mail" name="mail"
                   {% if notification.mail %} checked {% endif %}>
            <label class="form-check-label" for="Mail">
                Почта
            </label>
        </div>
        <p></p>
        <input class="btn btn-outline-primary" type="submit" name="notify">
    </form>

    <p>
</div>
<div class="p-2">
    <a class="btn btn-outline-secondary" href="/profile/{{user.username}}">Профиль</a>
    <a class="btn btn-outline-secondary" href="{% url 'logout_page' %}">Выход</a>
</div>
{% endblock %}